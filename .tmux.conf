set -g default-terminal "screen-256color"
# Enable true-color if tmux supports it. Hope to $deity our termimanl does.
if-shell "[[ `tmux -V | cut -d' ' -f2` -ge 2.1 ]]" 'set -ga terminal-overrides ",screen-256color:Tc"'
set -g history-limit 30000

set -g status-utf8 on                     # expect UTF-8
setw -g utf8 on

set -g set-titles on                        # set terminal title
set -g set-titles-string '#W ‚óè #h'

set -g display-panes-time 800 # slightly longer pane indicators display time
set -g display-time 1000      # slightly longer status messages display time

# 24 hour clock
setw -g clock-mode-style 24

# Neovim does things correctly, so it must suffer:
# https://github.com/neovim/neovim/issues/2035.
set -sg escape-time 10

# See https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard, on OSX do
#   brew install reattach-to-user-namespace
if-shell 'which reattach-to-user-namespace' 'set -g default-command "tmux rename-window initializing; tmux set -wq automatic-rename; reattach-to-user-namespace $SHELL -l"'

# copy to Mac OSX pasteboard
if-shell 'which reattach-to-user-namespace' 'bind y run "tmux save-buffer - | reattach-to-user-namespace pbcopy"'

# https://robots.thoughtbot.com/tmux-copy-paste-on-os-x-a-better-future
# Setup 'v' to begin selection as in Vim.
bind-key -t vi-copy v begin-selection
if-shell 'which pbcopy' 'bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"'
if-shell 'which xsel'   'bind-key -t vi-copy y copy-pipe "xsel --clipboard --input"'

# Update default binding of `Enter` to also use copy-pipe.
unbind -t vi-copy Enter
if-shell 'which pbcopy' 'bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"'
if-shell 'which xsel'   'bind-key -t vi-copy Enter copy-pipe "xsel --clipboard --input"'
